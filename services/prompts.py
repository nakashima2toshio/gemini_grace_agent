"""
共通プロンプト定義

Legacy AgentとGRACE Agentで共有するシステム指示
"""

# 検索クエリ作成に関する共通指示
SEARCH_QUERY_INSTRUCTION = """
**重要: 検索クエリ作成のルール（最高精度を出すためのガイドライン）**
- 検索クエリは、質問文から「いつ」「誰」「何」などの具体的な要素を抽出し、それらをスペースで区切ったキーワードのリストとして作成してください。
- 助詞や助動詞（〜の、〜は、〜ですか？）は極力省き、重要な名詞と動詞のみを残してください。
- ユーザーの質問に含まれる具体的な文脈（「初めて」「受賞」など）を決して省略しないでください。

**良い例 (検索スコア 0.8333 を達成したクエリ):**
質問: 「浦沢直樹が初めて受賞したのはいつ、何の賞ですか？」
クエリ: 「浦沢直樹 初めて受賞 いつ 何の賞」

**悪い例:**
- 「浦沢直樹 初受賞」（要素が削られすぎてマッチング精度が低下）
- 「浦沢直樹が初めて受賞したのはいつですか？」（助詞が多く検索ノイズになる）
"""

# 回答生成に関する共通指示
ANSWER_GENERATION_INSTRUCTION = """
**重要: 回答のスタイルとルール**
- 丁寧な日本語（です・ます調）で回答してください。
- 検索結果に基づく回答の場合、「社内ナレッジによると...」や「ソース [ファイル名] によると...」と出典を明示してください。
- 検索結果のスコアが低くても（例: 0.5程度）、内容が質問に関連していれば、その情報を積極的に使用して回答を作成してください。
- 「情報が見つかりませんでした」と即断せず、得られた断片的な情報からでも回答を試みてください。
- 提供された情報源の中には、その質問に対する回答が見つかりませんでした。」と正直に伝えてください。
- 絶対にあなたの事前学習知識で捏造してはいけません。
"""
